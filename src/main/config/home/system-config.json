{
    "version": "0.7.17",
    "configured": true,
    "urlBase": "${server.url.base}",
    "email": "DO_NOT_CHANGE",
    "sso": {
        "plugins": [],
        "urlExclusions": {
            "startsWith": ["css/", "feed/", "images/", "js/", "flowplayer/"],
            "endsWith": [".ico"],
            "equals": ["css"]
        },
        "trustTokens": {
        }
    },
    "accesscontrol": {
        "type": "derby",
        "derby": {
        }
    },
    "authentication": {
        "type": "internal",
        "internal": {
            "path": "${fascinator.home}/security/users.properties"
        }
    },
    "roles": {
        "type": "internal",
        "internal": {
            "path": "${fascinator.home}/security/roles.properties"
        }
    },
    "storage": {
        "type": "file-system",
        "file-system": {
            "home": "${storage.home}"
        },
        "fedora3": {
            "url": "http://localhost:8080/fedora",
            "username": "fedoraAdmin",
            "password": "fedoraAdmin"
        }
    },
    "messaging": {
        "url": "tcp://localhost:${amq.port}",
        "stompUrl": "stomp://localhost:${amq.stomp.port}",
        "home": "${fascinator.home}/activemq-data",
        "threads": [
            {
                "id": "render",
                "description": "Render queue for priority objects requested by the user.",
                "priority": "8",
                "config": {
                    "name": "renderUser"
                }
            },
            {
                "id": "render",
                "description": "Render queue for most standard documents.",
                "priority": "5",
                "config": {
                    "name": "renderNormal"
                }
            },
            {
                "id": "harvest",
                "description": "Priority queue for user actions, allows access to the render queues faster.",
                "priority": "8",
                "config": {
                    "name": "harvestUser",
                    "normal-renderers": {
                        "default": "renderNormal"
                    },
                    "user-renderer": "renderUser"
                }
            },
            {
                "id": "harvest",
                "description": "Standard harvest queue for new object. May optionally run some fast transformers and an index before routing to the render queues.",
                "priority": "7",
                "config": {
                    "name": "harvest",
                    "normal-renderers": {
                        "default": "renderNormal"
                    },
                    "user-renderer": "renderUser"
                }
            },
            {
                "id": "ingest",
                "description": "Ingest queue for objects posted from external source.",
                "priority": "3",
                "config": {
                    "name": "ingest"
                }
            },
            {
                "id": "subscriber",
                "description": "Subscriber queue for event log.",
                "priority": "7",
                "config": {
                    "name": "subscriber",
                    "subscribers": ["vital"]
                }
            },
            {
                "id": "solrwrapper",
                "description": "Wrapper for ingest into main Solr core.",
                "priority": "5",
                "config": {
                    "name": "solrwrapper"
                }
            },
            {
                "id": "emailnotification",
                "description": "Queue to send email notifications",
                "priority": "8",
                "config": {
                    "name": "emailnotification",
                    "debug": false,
                    "from": {
                        "email": "${admin.email}",
                        "name": "ReDBox"
                    },
                    "smtp": {
                        "host": "${smtp.host}"
                    },
                    "defaults": {
                        "subject": "Notification",
                        "body": "Default email message"
                    }
                }
            },
            {
                "id": "indexer",
                "description": "An indexer accessible via messages",
                "priority": "5",
                "config": {
                    "name": "indexer"
                }
            }
        ]
    },
    "indexer": {
        "type": "solr",
        "properties": "TF-OBJ-META",
        "useCache": true,
        "buffer": {
            "docLimit": "200",
            "sizeLimit": "204800",
            "timeLimit": "30"
        },
        "solr": {
            "uri": "http://localhost:${jetty.port}/solr/fascinator",
            "coreName": "fascinator",
            "autocommit": false,
            "embedded": false
        },
        "anotar": {
            "uri": "http://localhost:${jetty.port}/solr/anotar",
            "coreName": "anotar",
            "autocommit": true
        }
    },
    "transformerDefaults": {
        "jsonVelocity": {
            "id": "jsonVelocity",
            "sourcePayload": ".tfpackage",
            "templatesPath": "${fascinator.home}/templates"
        }
    },
    "uploader": {
        "attachment-upload":{
            "screen-label": "Attachment Upload",
            "security": ["registered", "metadata", "editor", "admin"],
            "upload-path": "${fascinator.home}/uploads/attachments",
            "json-config": "${fascinator.home}/harvest/workflows/attachment.json"
        },
        "notify": {
            "screen-label": "Notify us about a dataset",
            "security": ["guest", "metadata", "editor", "admin"],
            "upload-path": "${fascinator.home}/uploads/submissions",
            "json-config": "${fascinator.home}/harvest/workflows/dataset.json",
            "upload-template": "workflows/submission"
        }
    },
    "mime-types": {
        "tfpackage": "application/x-fascinator-package"
    },
    "database-service": {
        "derbyHome": "${fascinator.home}/database"
    },
    "portal": {
        "home": "${portal.home}",
        "contentDir": "${fascinator.home}/content",
        "defaultView": "default",
        "sessionTimeout": "60",
        "skins": {
            "default": "default",
            "order": [ "newcastle" ]
        },
        "caching": {
            "caches": {
                "scriptObjects": {
                    "label": "Cache for Jython scripts",
                    "profile": "dynamic",
                    "lastModifiedCheck": true
                },
                "pathLookup": {
                    "label": "Cache for path lookups",
                    "profile": "full"
                }
            },
            "profiles": {
                "default": {
                    "label": "Factory defaults",
                    "refreshIntervalSeconds": 30,
                    "maxElementsInMemory": 10000,
                    "eternal": false,
                    "timeToIdleSeconds": 120,
                    "timeToLiveSeconds": 120,
                    "overflowToDisk": false,
                    "maxElementsOnDisk": 10000,
                    "diskPersistent": false,
                    "memoryStoreEvictionPolicy": "LRU"
                },
                "off": {
                    "label": "Disabled",
                    "maxElementsInMemory": 1,
                    "eternal": false,
                    "timeToIdleSeconds": 0,
                    "timeToLiveSeconds": 0,
                    "overflowToDisk": false,
                    "maxElementsOnDisk": 1,
                    "diskPersistent": false,
                    "memoryStoreEvictionPolicy": "LRU"
                },
                "dynamic": {
                    "label": "Dynamic - Caches are refreshed periodically",
                    "maxElementsInMemory": 25000,
                    "eternal": false,
                    "timeToIdleSeconds": 120,
                    "timeToLiveSeconds": 300,
                    "overflowToDisk": false,
                    "maxElementsOnDisk": 25000,
                    "diskPersistent": false,
                    "memoryStoreEvictionPolicy": "LRU"
                },
                "full": {
                    "label": "Full - Caches never expire",
                    "maxElementsInMemory": 100000,
                    "eternal": true,
                    "timeToIdleSeconds": 0,
                    "timeToLiveSeconds": 0,
                    "overflowToDisk": true,
                    "maxElementsOnDisk": 100000,
                    "diskPersistent": false,
                    "memoryStoreEvictionPolicy": "LRU"
                }
            }
        },
        "layout": "layout",
        "nativeJython": true,
        "packageTypes": {
            "default": {
                "jsonconfig": "packaging-config.json",
                "packages-in-package": false
            },
            "dataset": {
                "jsonconfig": "dataset.json",
                "packages-in-package": false
            }
        },
        "harvestFiles": "${fascinator.home}/harvest",
        "houseKeeping": {
            "config": {
                "quartzConfig": "${fascinator.home}/quartz.properties",
                "desktop": true,
                "frequency": "3600",
                "jobs": [
                    {
                        "name": "vital-handles",
                        "type": "external",
                        "url": "http://localhost:${jetty.port}/redbox/default/hkjobs/vital.script",
                        "timing": "0 0/15 * * * ?"
                    }
                ]
            }
        },
        "oai-pmh": {
            "sessionExpiry": "300000",
            "metadataFormats": {
                "oai_dc": {
                    "enabledInAllViews": false,
                    "enabledViews": ["default"],
                    "schema": "http://www.openarchives.org/OAI/2.0/oai_dc.xsd",
                    "metadataNamespace": "http://www.openarchives.org/OAI/2.0/oai_dc/"
                },
                "eac_cpf": {
                    "enabledInAllViews": false,
                    "enabledViews": ["default"],
                    "schema": "urn:isbn:1-931666-33-4 http://eac.staatsbibliothek-berlin.de/schema/cpf.xsd",
                    "metadataNamespace": "urn:isbn:1-931666-33-4"
                },
                "rif": {
                    "enabledInAllViews": false,
                    "enabledViews": ["default"],
                    "schema": "http://ands.org.au/standards/rif-cs/registryObjects http://services.ands.org.au/home/orca/schemata/registryObjects.xsd",
                    "metadataNamespace": "http://ands.org.au/standards/rif-cs/registryObjects"
                },
                "marc": {
                    "enabledInAllViews": false,
                    "enabledViews": ["default"],
                    "schema": "http://www.loc.gov/MARC21/slim http://www.loc.gov/standards/marcxml/schema/MARC21slim.xsd",
                    "metadataNamespace": "http://www.loc.gov/MARC21/slim"
                }
            }
        }
    },
    "proxy-urls": {
        "Activities": "${mint.proxy.url}/Activities/opensearch/lookup",
        "ANZSRC_FOR": "${mint.proxy.url}/ANZSRC_FOR/opensearch/lookup",
        "ANZSRC_SEO": "${mint.proxy.url}/ANZSRC_SEO/opensearch/lookup",
        "Languages": "${mint.proxy.url}/Languages/opensearch/lookup",
        "Funding_Bodies": "${mint.proxy.url}/Funding_Bodies/opensearch/lookup",
        "Parties_Groups": "${mint.proxy.url}/Parties_Groups/opensearch/lookup",
        "Parties_People": "${mint.proxy.url}/Parties_People/opensearch/lookup",
        "Geonames": "${mint.proxy.server}/geonames/search"
    },
    "watcher": {
        "path": "${watcher.home}"
    },
    "subscriber": {
        "vital": {
            "tempDir": "${java.io.tmpdir}/rbvital",
            "foxmlTemplate": "${fascinator.home}/vital/foxml_template.xml",
            "waitConditions": {
                "property": "vitalHandle"
            },
            "failure": {
                "emailQueue": "emailnotification",
                "emailAddress": ["pendlebu@usq.edu.au", "dave.huthnance@newcastle.edu.au"],
                "emailSubject": "VITAL Integration Failed",
                "emailTemplate": "This is an automated message from ReDBox.\n\nThe record titled: '[[TITLE]]' has had an error occur during transmission to VITAL.\n\nThe record's detail page is here: ${server.url.base}default/detail/[[OID]]\n\nError details are below:\n[[MESSAGE]]\n\n====================\n\n[[ERROR]]"
            },
            "server": {
                "url": "http://novadev0.newcastle.edu.au:8080/fedora/",
                "username": "username",
                "password": "password",
                "namespace": "uon",
                "message": "Datastream update from ReDBox '[[OID]]'",
                "timeout": "15"
            },
            "dataStreams": {
                "marc.xml": {
                    "dsID": "MARC",
                    "label": "MARC",
                    "status": "A",
                    "controlGroup": "X",
                    "versionable": true,
                    "retainIds": true
                },
                "oai_dc.xml": {
                    "dsID": "DC",
                    "label": "Dublin Core Metadata",
                    "status": "A",
                    "controlGroup": "X",
                    "versionable": true,
                    "retainIds": true
                },
                "rif.xml": {
                    "dsID": "RIF",
                    "label": "RIF-CS Metadata",
                    "status": "A",
                    "controlGroup": "X",
                    "versionable": true,
                    "retainIds": true
                },
                ".tfpackage": {
                    "dsID": "REDBOX",
                    "label": "ReDBox Form Data",
                    "status": "I",
                    "controlGroup": "M",
                    "versionable": true,
                    "retainIds": true
                }
            },
            "attachments": {
                "dsID": "ATTACHMENT%02d",
                "statusField": "access_rights",
                "status": {
                    "private": "I",
                    "public": "A"
                },
                "labelField": "attachment_type",
                "label": {
                    "research-data": "Research Data",
                    "supporting-material": "Supporting Material"
                },
                "controlGroup": "M",
                "versionable": false,
                "altIds": {
                    "application/pdf": [
                        "info:vital/synchronize/jhove#JHOVE%d",
                        "info:vital/synchronize/premis#PREMIS%d",
                        "info:vital/synchronize/fulltext#FULLTEXT%d",
                        "info:vital/synchronize/thumbnail#THUMBNAIL"
                    ],
                    "image/": [
                        "info:vital/synchronize/jhove#JHOVE%d",
                        "info:vital/synchronize/premis#PREMIS%d",
                        "info:vital/synchronize/thumbnail#THUMBNAIL"
                    ],
                    "text/": [
                        "info:vital/synchronize/jhove#JHOVE%d",
                        "info:vital/synchronize/premis#PREMIS%d",
                        "info:vital/synchronize/fulltext#FULLTEXT%d"
                    ],
                    "default": [
                        "info:vital/synchronize/jhove#JHOVE%d",
                        "info:vital/synchronize/premis#PREMIS%d"
                    ]
                },
                "retainIds": true
            }
        }
    }
}
