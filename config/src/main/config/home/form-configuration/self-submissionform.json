{
    "stages": {
        "self-submission-draft": {
            "divs": [
                {
                    "heading": "Overview",
                    "fields": [
                        {
                            "component-type": "text-block",
                            "type": "h1",
                            "content": "self.Overview.heading"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "Title*",
                            "help": "self.help.dc:title"
                        },
                        {
                            "component-type": "textarea",
                            "field-name": "dc:title",
                            "label": "",
                            "content": "",
                            "additional-classes": "mandatory"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "Description *",
                            "help": "self.help.dc:title"
                        },
                        {
                            "component-type": "textarea",
                            "field-name": "dc:description",
                            "label": "",
                            "content": "",
                            "additional-classes": "mandatory"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "Type",
                            "help": "dataset-type-help"
                        },
                        {
                            "component-type": "data-source-dropdown",
                            "label": "",
                            "field-name": "dc:type.rdf:PlainLiteral",
                            "field-name-label": "dc:type.skos:prefLabel",
                            "sourceUrl": "workflows/forms/data/types.json",
                            "mandatory": "true",
                            "idKey": "id",
                            "labelKey": "label",
                            "listKey": "results"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "self.Overview.activityType.label",
                            "help": "form.help.dc:subject.anzsrc:toa: there is another one Jay defined"
                        },
                        {
                            "component-type": "data-source-dropdown",
                            "field-name": "dc:subject.anzsrc:toa",
                            "label": "",
                            "sourceUrl": "dmpt/data/projectActivityType.json"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "Language"
                        },
                        {
                            "component-type": "data-source-dropdown",
                            "field-name": "dc:language.dc:identifier",
                            "label": "",
                            "sourceUrl": "proxyGet.script?ns=Languages&qs=count%3D9999",
                            "listKey": "results",
                            "labelKey": "dc:title",
                            "idKey": "dc:identifier"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "form.redbox:ManagementPlan.skos:note",
                            "help": "help.redbox:ManagementPlan.skos:note"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "redbox:ManagementPlan.skos:note",
                            "label": "",
                            "additional-classes": ""
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Identifier",
                            "help": "help.Identifier"
                        },
                        {
                            "component-type": "radio-button",
                            "field-name": "dc:identifier.redbox:origin",
                            "button-for": "",
                            "buttons": [
                                {
                                    "label": "I would like a DOI created for this data",
                                    "checked": "checked"
                                },
                                {
                                    "label": "This data has been allocated on identifier (please provide below)"
                                }
                            ]
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "allocated.dc:identifier",
                            "label": "",
                            "additional-classes": ""
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Data location",
                            "help": "Data location help message"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "URL:",
                            "help": "bibo:Website"
                        },
                        {
                            "component-type": "repeatable-container",
                            "containter-for": "bibo:Website",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"", "class-list": "jaffa-field", "suffix":"dc:identifier"}}
                                                ]
                                           },
                            "additional-classes": ""                                           
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "Physical address"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "vivo:Location.vivo:GeographicLocation.gn:name",
                            "label": "",
                            "additional-classes": "",
                            "content": ""
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Subject",
                            "help": "self.help.section.subject"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "self.Overview.forCodes.label",
                            "help": "self.help.dc:subject.anzsrc:for"
                        },
                        {
                            "component-type": "repeatable-anzsrc-selection",
                            "label": "FoR code(s)",
                            "fieldName": "dc:subject.anzsrc:for.0.rdf:resource",
                            "fieldNameLabel": "dc:subject.anzsrc:for.0.skos:prefLabel",
                            "sourceUrl": "proxyGet.script?ns=ANZSRC_FOR&qs=count%3D999%26level%3D",
                            "dataLevel": "top",
                            "mandatory": "false",
                            "idKey": "rdf:about",
                            "labelKey": "skos:prefLabel",
                            "listKey": "results",
                            "defaultValue": "skos:narrower",
                            "anzsrcType": "for"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "self.Overview.seoCodes.label",
                            "help": "self.help.dc:subject.dc:subject.anzsrc:seo"
                        },
                        {
                            "component-type": "repeatable-anzsrc-selection",
                            "label": "SEO code(s)",
                            "fieldName": "dc:subject.anzsrc:seo.0.rdf:resource",
                            "fieldNameLabel": "dc:subject.anzsrc:seo.0.skos:prefLabel",
                            "sourceUrl": "proxyGet.script?ns=ANZSRC_SEO&qs=count%3D999%26level%3D",
                            "dataLevel": "top",
                            "mandatory": "false",
                            "idKey": "rdf:about",
                            "labelKey": "skos:prefLabel",
                            "listKey": "results",
                            "defaultValue": "skos:narrower",
                            "anzsrcType": "seo"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "Key words"
                        },
                        {
                            "component-type": "repeatable-container",
                            "containter-for": "dc:subject.vivo:keyword",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"", "class-list":"jaffa-field", "suffix":"rdf:PlainLiteral"}}
                                                ]
                                           },
                            "additional-classes":""                                           
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Next",
                                    "form-submit-action": "save"
                                }
                            ]
                        }
                    ]
                },
                {
                    "heading": "People",
                    "fields": [
                        {
                            "component-type": "text-block",
                            "type": "h1",
                            "content": "self.people.heading"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.people.principalInvestigator.label",
                            "help": "self.help.dc:creator.foaf:Person"
                        },
                        {
                            "component-type": "person",
                            "lookup-name": "dc:creator.foaf:Person",
                            "lookup-only": "true",
                            "validation": {
                                "save-rules": [
                                    "required"
                                ],
                                "validation-id": "dc:creator.foaf:Person.dc:identifier",
                                "focus-id": "dc:creator.foaf:Person.foaf:title",
                                "validation-messages": {
                                    "required": "Principal investigator is required"
                                }
                            }
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:creator.foaf:Person.foaf:email",
                            "label": "self.people.emailAddress.label"
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.people.dataManager.label",
                            "help": "self.help.locrel:prc.foaf:Person"
                        },
                        {
                            "component-type": "person",
                            "lookup-name": "locrel:prc.foaf:Person",
                            "lookup-only": "true",
                            "validation": {
                                "save-rules": [
                                    "required"
                                ],
                                "validation-id": "locrel:prc.foaf:Person.dc:identifier",
                                "focus-id": "locrel:prc.foaf:Person.foaf:title",
                                "validation-messages": {
                                    "required": "Data manager is required"
                                }
                            }
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "locrel:prc.foaf:Person.foaf:email",
                            "label": "self.people.emailAddress.label"
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.people.collaborators.label",
                            "help": "self.help.locrel:clb.foaf:Person"
                        },
                        {
                            "component-type": "repeatable-container",
                            "containter-for": "dc:contributor.locrel:clb",
                            "sub-elements": {
                                "settings": [
                                    {
                                        "jaffaPeople": {
                                            "source": "nla,mint",
                                            "label": "",
                                            "class-list": "jaffa-field",
                                            "suffix": "foaf:Agent"
                                        }
                                    },
                                    {
                                        "jaffaText": {
                                            "label": "Email address",
                                            "class-list": "jaffa-field",
                                            "suffix": "email"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.people.supervisor.label",
                            "help": "self.help.swrc:supervisor.foaf:Person"
                        },
                        {
                            "component-type": "person",
                            "lookup-name": "swrc:supervisor.foaf:Person",
                            "lookup-only": "true"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "swrc:supervisor.foaf:Person:foaf:email",
                            "label": "self.people.emailAddress.label",
                            "label-classes": "dmpt-supervisor-email"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Back"
                                },
                                {
                                    "name": "Next",
                                    "form-submit-action": "save"
                                }
                            ]
                        }
                    ]
                },
                {
                    "heading": "Access",
                    "fields": [
                        {
                            "component-type": "text-block",
                            "type": "h1",
                            "content": "self.access.heading"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.access.licensing.heading"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "self.access.licence.label",
                            "help": "self.help.dc:license"
                        },
                        {
                            "component-type": "data-source-dropdown",
                            "field-name": "dc:license.dc:identifier",
                            "label": "",
                            "sourceUrl": "workflows/forms/data/licences.json",
                            "idKey": "id",
                            "labelKey": "label",
                            "listKey": "results"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:license.rdf:Alt.skos:prefLabel",
                            "label": "dc:license.rdf:Alt.skos:prefLabel",
                            "additional-classes": ""
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:license.rdf:Alt.dc:identifier",
                            "label": "dc:license.rdf:Alt.dc:identifier",
                            "additional-classes": ""
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.access.accessRights.heading",
                            "help": "dc:accessRights.dc:RightsStatement.skos:prefLabel"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:accessRights.dc:RightsStatement.skos:prefLabel",
                            "label": ""
                        },
                        {
                            "component-type": "text-input",
                            "label": "URL: ",
                            "field-name": "dc:accessRights.dc:RightsStatement.dc:identifier"
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Access conditions",
                            "help": "dc:accessRights.skos:prefLabel"
                        },
                        {
                            "component-type": "text-input",
                            "label": "",
                            "field-name": "dc:accessRights.skos:prefLabel"
                        },
                        {
                            "component-type": "text-input",
                            "label": "URL: ",
                            "field-name": "dc:accessRights.dc:identifier"
                        },
                        {
                            "component-type": "native-html",
                            "content": "<hr>"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "self.dataRetention.heading"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "redbox:retentionPeriod",
                            "help": "redbox:retentionPeriod"
                        },
                        {
                            "component-type": "data-source-dropdown",
                            "field-name": "redbox:retentionPeriod",
                            "label": "",
                            "sourceUrl": "workflows/forms/data/retentionPeriod.json",
                            "idKey": "id",
                            "labelKey": "label",
                            "listKey": "results"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "redbox:retentionPeriod.dc:date.skos:note",
                            "help": "redbox:retentionPeriod.dc:date.skos:note"
                        },
                        {
                            "component-type": "data-source-dropdown",
                            "field-name": "redbox:retentionPeriod.dc:date.skos:note",
                            "label": "",
                            "sourceUrl": "workflows/forms/data/retentionPeriodJustification.json",
                            "idKey": "id",
                            "labelKey": "label",
                            "listKey": "results"
                        },
                        {
                            "component-type": "text-block",
                            "type": "label",
                            "content": "redbox:disposalDate",
                            "help": "redbox:disposalDate"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "redbox:disposalDate",
                            "label": "",
                            "additional-classes": "dateYMD"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Back"
                                },
                                {
                                    "name": "Next",
                                    "form-submit-action": "save"
                                }
                            ]
                        }
                    ]
                },
                {
                    "heading": "Coverage",
                    "fields": [
                        {
                            "component-type": "text-block",
                            "type": "h1",
                            "content": "Coverage"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Temporal (time) information"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:coverage.vivo:DateTimeInterval.vivo:start",
                            "label": "Start date:",
                            "additional-classes": "dateYMD"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:coverage.vivo:DateTimeInterval.vivo:end",
                            "label": "End date:",
                            "additional-classes": "dateYMD"
                        },
                        {
                            "component-type": "text-input",
                            "field-name": "dc:coverage.redbox:timePeriod",
                            "label": "Time period:"
                        },
                        {
                            "component-type":"text-block",
                            "type":"h3",
                            "content":"Geospatial Location"
                        },
                        {
                            "component-type":"native-html",
                            "content":"<div class='openLayersHolder'>
        <div class='article'>
            <p class='meta attribution'>Map Credits: <span id='attribution'></span></p>
            <div id='polygonHelp' class='hidden'>
                <div><span class='ui-button-icon-primary ui-icon ui-icon-lightbulb'></span></div>
                Use double-click to 'close' your polygon.
            </div>
            <div class='mapHolder'>
                <div id='panel' class='olControlEditingToolbar'></div>
                <div id='map' class='smallmap' style='width:512px; height:256px'></div>
            </div>
            <div class='lookupHolder'>
                <label for='geonamesLookup'>Find location: </label>
                <input type='text' size='40' placeholder='Place name' id='geonamesLookup' />
            </div>
        </div>
    </div>"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:coverage.vivo:GeographicLocation",
                            "additional-classes":"containerLayout redboxGeoData",
                            "add-item-text":"Add location",
                            "sub-elements":{"settings":[
                                                {"jaffaDropDown":{"label":"Location Type", "suffix":"dc:type", "field":"dc:type", "label-field":"dc:type", 
                                                                  "json-data-url":"http://127.0.0.1:9000/redbox/default/workflows/forms/data/locationTypes.json", 
                                                                  "data-id-key":"id", "data-label-key":"label", "data-list-key":"results", "mandatory":"true",
                                                                  "class-list":"locationType"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field redboxGeoDataFid","suffix": "redbox:Fid"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field redboxGeoDataWkt","suffix": "redbox:wktRaw"}},                 
                                                 {"jaffaText":{"label":"","type":"text","class-list":"jaffa-field redboxGeoDataOutput autocomplete-geonames","suffix":"rdf:PlainLiteral",
                                                               "placeholder":"eg. coordinates or placename","size":"60"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field","suffix":"dc:identifier"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field","suffix":"geo:long"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field","suffix":"geo:lat"}}
                                                ]
                                            }
                        },
                        {
                            "component-type":"native-html",
                            "content":"
                                        <div class='hidden coords' id='dc:coverage.vivo:GeographicLocation.0.coords'>
                                            <a class='map-link' target='_blank' href=''>map</a>
                                            @ longitude: <span class='east'> </span>
                                            , latitude: <span class='north'> </span>
                                            | <a class='clear-link' href='#'>clear</a>
                                        </div>"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Back"
                                },
                                {
                                    "name": "Next",
                                    "form-submit-action": "save"
                                }
                            ]
                        }
                    ]
                },
                {
                    "heading": "Furtherinfo",
                    "fields": [
                        {
                            "component-type": "text-block",
                            "type": "h1",
                            "content": "Further information"
                        },
                        {
                            "component-type": "text-block",
                            "type": "p",
                            "content": "You can provide further information in the sub-sections belloow"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Data factors"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Funding information"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Related publications"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Related websites"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Related data"
                        },
                        {
                            "component-type": "text-block",
                            "type": "h3",
                            "content": "Related services"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Back"
                                },
                                {
                                    "name": "Next",
                                    "form-submit-action": "save"
                                }
                            ]
                        }
                    ]
                },
                {
                    "heading": "UserSubmit",
                    "fields": [
                        {
                            "component-type": "text-block",
                            "type": "h1",
                            "content": "Submit"
                        },
                        {
                            "component-type": "textarea",
                            "field-name": "skos:note.0.dc:description",
                            "label": "Please add any further information/queries below - these will be followed up by the reviewer",
                            "content":""
                        },
						{
							"component-type": "checkbox",
							"field-name": "readyforreview",
							"box-for": "",
							"boxes": [
								{
									"label": "This collection is ready to be reviewed by a data librarian",
									"value": "ready"
								}
							]
						},
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Back"
                                },
                                {
                                    "name": "Submit",
                                    "form-submit-action": "save-next",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        }
                    ]
                }
            ],
            "buttons": [],
            "form-footer": "self-submissionform-footer",
            "validation": {
                "required": "title"
            }
        }
    }
}